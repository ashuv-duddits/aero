<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <title></title>
</head>
<body>
  <h1>Тестовое задание по реализации сервиса с REST API на Node.js</h1>
  <form class="form">
    <input class="form__input" type="file" name="file">
    <button type="submit">Отправить файл на сервер</button>
  </form>
</body>
<script>
  const form = document.querySelector('.form')
  form.addEventListener('click', async function(e) {
    e.preventDefault();
    const formData = new FormData(form);
    const response = await fetch('/api/file/upload', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFzaHV2X3Z5a3NhQG1haWwucnUiLCJpYXQiOjE1NzcyMTk0NzUsImV4cCI6MTU3NzIyMDY3NX0.qeZYPJVODgqlx_zKRXNVQfsil8LJEsGMwYLa1gvthgI'
      },
      body: formData
    });
    const json = await response.json();
    console.log(json)
  })
  const inputFile = document.querySelector('.form__input');
  inputFile.addEventListener('click', function(e) {
    e.stopPropagation();
  })
</script>
</html>